///////////////////////////////////////////////////////////////////////////////
// ACTION_SetSaveAllowed
// Copyright 2014, Running With Scissors, Inc. All Rights Reserved
///////////////////////////////////////////////////////////////////////////////
class ACTION_SetSaveAllowed extends P2ScriptedAction;

///////////////////////////////////////////////////////////////////////////////
// Vars, consts, enums, etc
///////////////////////////////////////////////////////////////////////////////
var(Action) bool bSaveAllowed;	// If false, prevents the player from saving. Persists to map change or until turned back to true.

function bool InitActionFor(ScriptedController C)
{
	local P2GameInfoSingle game;

	game = P2GameInfoSingle(C.Level.Game);
	if(game != None)
		game.bDisallowSave = !bSaveAllowed;
	return false;
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
defaultproperties
{
	bSaveAllowed=true
}
