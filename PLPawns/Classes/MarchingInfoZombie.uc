///////////////////////////////////////////////////////////////////////////////
// MarchingInfo
//
// Handles path for marching band and those who march
//
///////////////////////////////////////////////////////////////////////////////
class MarchingInfoZombie extends MarchingInfo;

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
// Prep all the arrays and pawns
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
auto state Init
{
	///////////////////////////////////////////////////////////////////////////////
	// Setup what this pawn will do, protesting, marching, etc.
	///////////////////////////////////////////////////////////////////////////////
	function SetupPawnStates(FPSPawn CheckPawn)
	{
		local PLZombieController lambc;

		lambc = PLZombieController(CheckPawn.Controller);
		if (lambc == None)
		{
			warn(self@"This MarchingInfo is intended only for use with PL Zombies! ====================================================================");
			return;
		}
		// Figure out our home nodes, if we have any
		if(CheckPawn.bCanEnterHomes)
			lambc.FindHomeList(CheckPawn.HomeTag);
		// Link to the remaining path nodes
		lambc.FindPathList();

		CheckPawn.SetMarching(true);
		lambc.GotoState('Thinking'); // Initialization
		lambc.GotoState('BeginMarching');
	}
}
