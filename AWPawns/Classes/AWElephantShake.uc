///////////////////////////////////////////////////////////////////////////////
// AWElephantShake
// Copyright 2004 Running With Scissors, Inc.  All Rights Reserved.
//
// Elephants generate this to tell the dude to constantly shake the camera
// as they charge around.
///////////////////////////////////////////////////////////////////////////////
class AWElephantShake extends Keypoint;

var float			ShakeWait;	// how long to wait in between trying to shake the player
var AWElephantPawn	MyBeast;
var P2Player		MyPlayer;

///////////////////////////////////////////////////////////////////////////////
// Link to elephant and player
///////////////////////////////////////////////////////////////////////////////
function LinkToElephantAndPlayer(AWElephantPawn NewBeast, P2Player NewPlayer)
{
	MyBeast = NewBeast;
	MyPlayer = NewPlayer;	
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
function TryShake()
{
	if(MyBeast.Health > 0)
	{
		MyBeast.ShakePlayerCamCharge(MyPlayer);
	}
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
// Shaking
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
auto state Shaking
{
Begin:
	Sleep(ShakeWait);
	TryShake();
	goto('Begin');
}

defaultproperties
{
     ShakeWait=0.250000
     bStatic=False
     bHidden=true	// why is this visible
}
